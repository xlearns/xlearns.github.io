import{u as M,a as V}from"./useStyleSider.7b813e07.js";import{o as i,c as f,h as _,n as m,_ as g,a as r,A as x,z as B,O as b,j as H,R as I,f as h,w as y,u as w,y as L,d as W,r as P,F as C,x as R}from"./index.2c8de1b9.js";const T={props:{w:Number,h:Number,x:Number,y:Number,z:Number},setup(t){return(e,n)=>(i(),f("div",{style:m({width:`${t.w}px`,height:`${t.h}px`,left:`${t.x}px`,top:`${t.y}px`,zIndex:t.z}),class:"absolute"},[_(e.$slots,"default")],4))}};function j(t,e){let n;return function(){clearTimeout(n),n=setTimeout(()=>{e.apply(this,arguments)},t)}}const A={name:"VFullSreen",props:{options:Object},setup(t){let e=r(),n=r(0),s=r(0),l=r(0),o=r(0),c=r(!1),u;const a=function(){const d=document.body.clientWidth,S=document.body.clientHeight,N=n.value||l.value,O=s.value||o.value,E=d/N,F=S/O;e.value&&(e.value.style.transform=`scale(${E}, ${F})`)},$=function(){n.value&&s.value?(e.value.style.width=`${n.value}px`,e.value.style.height=`${s.value}px`):(e.value.style.width=`${l.value}px`,e.value.style.height=`${o.value}px`)},p=function(){return new Promise(d=>{B(()=>{t.options&&t.options.width&&t.options.height?(n.value=t.options.width,s.value=t.options.height):(console.warn("props.options.width||props.options.height no defined"),n.value=e.value.clientWidth,s.value=e.value.clientHeight),(!l.value||!o.value)&&(l.value=window.screen.width,o.value=window.screen.height),d()})})},v=async function(){await p(),a()},k=function(){const d=window.MutationObserver;u=new d(v),u.observe(e.value,{attributes:!0,attributeFilter:["style"],attributeOldValue:!0})},z=function(){u&&(u.disconnect(),u.takeRecords(),u=null)};return x(async()=>{c.value=!1,await p(),$(),a(),window.addEventListener("resize",j(100,v)),k(),c.value=!0}),b(()=>{window.removeEventListener("resize",v),z()}),{ready:c,dom:e}}},D={ref:"dom",class:"datav-full-sreen"};function U(t,e,n,s,l,o){return i(),f("div",D,[s.ready?_(t.$slots,"default",{key:0},void 0,!0):H("",!0)],512)}var q=g(A,[["render",U],["__scopeId","data-v-5d13509a"]]);const G={setup(t){let{list:e,rootStyle:n}=M(),{bgImg:s}=V(),l=r(n.value);function o(c){L.push("/")}return x(()=>{I.success("\u6309\u4EFB\u610F\u952E\u8FD4\u56DE"),window.addEventListener("keydown",o)}),b(()=>{window.removeEventListener("keydown",o)}),(c,u)=>(i(),h(q,{options:w(l)},{default:y(()=>[W("div",{class:"containerBox",style:m({backgroundImage:`url(${w(s)})`})},[(i(!0),f(C,null,P(w(e),a=>(i(),h(T,{key:a.id,w:a.w,h:a.h,x:a.x,y:a.y,z:a.z},{default:y(()=>[(i(),h(R(a.component),{value:a.value,styles:a.styles},null,8,["value","styles"]))]),_:2},1032,["w","h","x","y","z"]))),128))],4)]),_:1},8,["options"]))}};var Q=g(G,[["__scopeId","data-v-695dcfd6"]]);export{Q as default};
//# sourceMappingURL=PreView.3058e1f1.js.map
